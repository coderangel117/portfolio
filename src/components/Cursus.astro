---
interface TimelineItem {
    id: string;
    period: string;
    title: string;
    organization: string;
    description: string;
}

interface Props {
    educationItems: TimelineItem[];
    experienceItems: TimelineItem[];
}

const {educationItems, experienceItems} = Astro.props as Props;
---

<section class="py-12 md:py-24 relative" data-testid="section-dual-timeline">
    <div class="absolute inset-0 bg-gradient-to-b from-[#0c56e9]/5 via-[#9311d4]/5 to-[#9311d4]/5 -z-10"></div>

    <div class="max-w-6xl mx-auto px-4 md:px-6">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-semibold mb-8 md:mb-12 bg-gradient-to-r from-[#171717] to-[#9311d4] bg-clip-text text-transparent"
            data-testid="heading-parcours">
            Parcours
        </h2>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-8">

            <!-- Timeline Formation -->
            <div>
                <h3 class="text-xl md:text-2xl font-medium mb-6 md:mb-8 bg-gradient-to-r from-[#0c56e9] to-[#0c56e9] bg-clip-text text-transparent"
                    data-testid="heading-education">
                    Formation
                </h3>

                <div class="space-y-6 md:space-y-8">
                    {educationItems.map((item, index) => (
                            <div
                                    class="flex gap-4 md:gap-6 group"
                                    data-testid={`education-timeline-${index}`}
                            >
                                <div class="w-20 md:w-24 flex-shrink-0">
                                    <span class="text-xs md:text-sm text-[#595e69] font-mono"
                                          data-testid={`text-edu-period-${index}`}>
                                      {item.period}
                                    </span>
                                </div>

                                <div class="relative flex-1">
                                    <div class="absolute left-0 top-0 bottom-0 w-px bg-[#595e69]/10">
                                        <div class="absolute left-0 w-2 h-2 -ml-0.5 rounded-full bg-[#0c56e9]"></div>
                                    </div>

                                    <div class="pl-6 md:pl-8">
                                        <div class="border border-[#0c56e9]/20 bg-gradient-to-br from-[#0c56e9]/5
                                        to-transparent rounded-md p-3 md:p-4 hover:-translate-y-1
                                        hover:border-[#0c56e9]/40 transition-all">
                                            <h4 class="text-base md:text-lg font-medium mb-1 text-[#171717]"
                                                data-testid={`text-edu-title-${index}`}>
                                                {item.title}
                                            </h4>
                                            <p class="text-xs md:text-sm text-[#595e69] mb-2"
                                               data-testid={`text-edu-org-${index}`}>
                                                {item.organization}
                                            </p>
                                            <p class="text-xs md:text-sm text-[#595e69] leading-relaxed"
                                               data-testid={`text-edu-desc-${index}`}>
                                                {item.description}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    ))}
                </div>
            </div>

            <!-- Timeline Expérience -->
            <div>
                <h3 class="text-xl md:text-2xl font-medium mb-6 md:mb-8 bg-gradient-to-r from-[#9311d4] to-[#0c56e9] bg-clip-text text-transparent"
                    data-testid="heading-experience">
                    Expérience Professionnelle
                </h3>

                <div class="space-y-6 md:space-y-8">
                    {experienceItems.map((item, index) => (
                            <div
                                    class="flex gap-4 md:gap-6 group"
                                    data-testid={`experience-timeline-${index}`}
                            >
                                <div class="w-20 md:w-24 flex-shrink-0">
                                    <span class="text-xs md:text-sm text-[#595e69] font-mono"
                                          data-testid={`text-exp-period-${index}`}>
                                      {item.period}
                                    </span>
                                </div>

                                <div class="relative flex-1">
                                    <div class="absolute left-0 top-0 bottom-0 w-px bg-[#595e69]/10">
                                        <div class="absolute left-0 w-2 h-2 -ml-0.5 rounded-full bg-[#0c56e9]"></div>
                                    </div>

                                    <div class="pl-6 md:pl-8">
                                        <div class="border border-[#9311d4]/20 bg-gradient-to-br from-[#9311d4]/5 to-transparent rounded-md p-3 md:p-4 hover:-translate-y-1 hover:border-[#9311d4]/40 transition-all">
                                            <h4 class="text-base md:text-lg font-medium mb-1 text-foreground"
                                                data-testid={`text-exp-title-${index}`}>
                                                {item.title}
                                            </h4>
                                            <p class="text-xs md:text-sm text-[#595e69] mb-2"
                                               data-testid={`text-exp-org-${index}`}>
                                                {item.organization}
                                            </p>
                                            <p class="text-xs md:text-sm text-[#595e69] leading-relaxed"
                                               data-testid={`text-exp-desc-${index}`}>
                                                {item.description}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    ))}
                </div>
            </div>

        </div>
    </div>
</section>
